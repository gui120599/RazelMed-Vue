import{P as S,S as v}from"./index-8ZH9h2Im.js";import{d as p,c as A,o as P,w as _,r as g,u as k,v as f,f as m,a0 as I,a1 as R,C as $,a2 as T,a3 as h,y as j}from"./app-Ok4sUdtS.js";import{i as B}from"./useForwardPropsEmits-BEDIxWjV.js";import{c as N}from"./useForwardExpose-d_HlJpHD.js";const H=p({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,o)=>(P(),A(k(S),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:_(()=>[g(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function K(t){const e=B({dir:f("ltr")});return m(()=>{var o;return(t==null?void 0:t.value)||((o=e.dir)==null?void 0:o.value)||"ltr"})}function y(){const t=f(),e=m(()=>{var o,s;return["#text","#comment"].includes((o=t.value)==null?void 0:o.$el.nodeName)?(s=t.value)==null?void 0:s.$el.nextElementSibling:N(t)});return{primitiveElement:t,currentElement:e}}const C="data-reka-collection-item";function V(t={}){const{key:e="",isProvider:o=!1}=t,s=`${e}CollectionProvider`;let a;if(o){const i=f(new Map);a={collectionRef:f(),itemMap:i},I(s,a)}else a=R(s);const w=(i=!1)=>{const n=a.collectionRef.value;if(!n)return[];const r=Array.from(n.querySelectorAll(`[${C}]`)),l=Array.from(a.itemMap.value.values()).sort((u,d)=>r.indexOf(u.ref)-r.indexOf(d.ref));return i?l:l.filter(u=>u.ref.dataset.disabled!=="")},E=p({name:"CollectionSlot",setup(i,{slots:n}){const{primitiveElement:r,currentElement:c}=y();return j(c,()=>{a.collectionRef.value=c.value}),()=>h(v,{ref:r},n)}}),b=p({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(i,{slots:n,attrs:r}){const{primitiveElement:c,currentElement:l}=y();return $(u=>{if(l.value){const d=T(l.value);a.itemMap.value.set(d,{ref:l.value,value:i.value}),u(()=>a.itemMap.value.delete(d))}}),()=>h(v,{...r,[C]:"",ref:c},n)}}),x=m(()=>Array.from(a.itemMap.value.values())),M=m(()=>a.itemMap.value.size);return{getItems:w,reactiveItems:x,itemMapSize:M,CollectionSlot:E,CollectionItem:b}}export{H as _,V as a,y as b,K as u};
