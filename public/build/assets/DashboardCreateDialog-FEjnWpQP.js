import{v as k,x as y,c,o as u,w as o,b as s,u as a,e as i,a as n,q as w,j as x,F as D,l as S,t as g}from"./app-BlXhyLUO.js";import{t as v}from"./index-BMtI04A1.js";import{_ as f}from"./index-BhtvmoF1.js";import{_ as I,a as N}from"./CardContent.vue_vue_type_script_setup_true_lang-Db3zyTlV.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-DGIRNgUv.js";import{_ as d,a as m}from"./Label.vue_vue_type_script_setup_true_lang-DXnzPwZ7.js";import{_ as U,a as B,b as C,c as F,d as j}from"./SelectValue.vue_vue_type_script_setup_true_lang-BIKeDiFX.js";import{_ as q,a as A,b as E,c as L,d as T,e as M}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-DcaJZVqV.js";import"./useForwardExpose-CmaDUOcs.js";import"./useForwardPropsEmits-B3fW3CJG.js";import"./chevron-down-B4v28H9x.js";import"./Collection-Y5xl4Jyh.js";import"./check-BhZWoezT.js";import"./nullish-CtH4V8ap.js";const O={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},P={class:"grid lg:col-span-2 w-full gap-2"},z={class:"grid lg:col-span-1 w-full gap-2"},G={class:"grid w-full gap-2"},H={class:"grid w-full gap-2"},J={class:"flex justify-end items-center gap-4"},ia={__name:"DashboardCreateDialog",props:{institutions:{type:Array,required:!0}},setup(b,{expose:$}){const r=k(!1),t=y({name:"",iframe_link:"",institution_id:"",icon:""}),V=()=>{const p={...t.data()};t.post(route("dashboards.store"),{data:p,forceFormData:!0,onSuccess:()=>{v.success("Dashboard created successfully!"),t.reset(),r.value=!1},onError:e=>{console.error("Validation errors:",e),v.error("Failed to create dashboard. Please check the form.")}})};return $({isDialogOpen:r,form:t}),(p,e)=>(u(),c(a(M),{open:r.value,"onUpdate:open":e[5]||(e[5]=l=>r.value=l)},{default:o(()=>[s(a(q),{"as-child":""},{default:o(()=>[s(a(f),{variant:"outline"},{default:o(()=>e[6]||(e[6]=[i("Add Dashboard")])),_:1,__:[6]})]),_:1}),s(a(A),{class:"lg:min-w-[800px] max-h-[90vh] overflow-y-auto"},{default:o(()=>[s(a(E),null,{default:o(()=>[s(a(L),null,{default:o(()=>e[7]||(e[7]=[i("New Dashboard")])),_:1,__:[7]}),s(a(T),null,{default:o(()=>e[8]||(e[8]=[i("Insira os dados do novo dashboard.")])),_:1,__:[8]})]),_:1}),s(a(I),null,{default:o(()=>[s(a(N),{class:"space-y-3"},{default:o(()=>[n("form",{class:"space-y-6",onSubmit:w(V,["prevent"])},[n("div",O,[n("div",P,[s(a(d),{for:"name"},{default:o(()=>e[9]||(e[9]=[i("Nome")])),_:1,__:[9]}),s(a(_),{id:"name",autocomplete:"off",modelValue:a(t).name,"onUpdate:modelValue":e[0]||(e[0]=l=>a(t).name=l)},null,8,["modelValue"]),s(m,{message:a(t).errors.name},null,8,["message"])]),n("div",z,[s(a(d),{for:"icon"},{default:o(()=>e[10]||(e[10]=[i("Icone")])),_:1,__:[10]}),s(a(_),{type:"text",autocomplete:"off",id:"icon",modelValue:a(t).icon,"onUpdate:modelValue":e[1]||(e[1]=l=>a(t).icon=l)},null,8,["modelValue"]),s(m,{message:a(t).errors.icon},null,8,["message"])]),n("div",G,[s(a(d),{for:"institution_id"},{default:o(()=>e[11]||(e[11]=[i("Instituição")])),_:1,__:[11]}),s(a(U),{id:"institution_id",modelValue:a(t).institution_id,"onUpdate:modelValue":e[2]||(e[2]=l=>a(t).institution_id=l)},{default:o(()=>[s(a(B),{class:"w-full"},{default:o(()=>[s(a(C),{placeholder:"Selecione a Institutição"})]),_:1}),s(a(F),null,{default:o(()=>[(u(!0),x(D,null,S(b.institutions,l=>(u(),c(a(j),{key:l.id,value:l.id},{default:o(()=>[i(g(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),s(m,{message:a(t).errors.institution_id},null,8,["message"])])]),n("div",H,[s(a(d),{for:"iframe_link"},{default:o(()=>e[12]||(e[12]=[i("Iframe Link")])),_:1,__:[12]}),s(a(_),{id:"iframe_link",autocomplete:"off",modelValue:a(t).iframe_link,"onUpdate:modelValue":e[3]||(e[3]=l=>a(t).iframe_link=l)},null,8,["modelValue"]),s(m,{message:a(t).errors.iframe_link},null,8,["message"])]),n("div",J,[s(a(f),{type:"button",variant:"outline",onClick:e[4]||(e[4]=l=>r.value=!1)},{default:o(()=>e[13]||(e[13]=[i("Cancel")])),_:1,__:[13]}),s(a(f),{type:"submit",disabled:a(t).processing},{default:o(()=>[i(g(a(t).processing?"Saving...":"Save Dashboard"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}};export{ia as default};
